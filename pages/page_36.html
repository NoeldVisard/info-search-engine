<!DOCTYPE html>

<html data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D" lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1,user-scalable=0" name="viewport"/>
<meta content="unsafe-url" name="referrer"/>
<title>От xWiki к static-HTML. Как мы документацию «переезжали» / Хабр</title>







<meta content="2.165.0" name="habr-version"/>
<meta content="444736788986613" data-vue-meta="ssr" property="fb:app_id"/><meta content="472597926099084" data-vue-meta="ssr" property="fb:pages"/><meta content="summary_large_image" data-vue-meta="ssr" name="twitter:card"/><meta content="@habr_com" data-vue-meta="ssr" name="twitter:site"/><meta content="Хабр" data-vmid="og:site_name" data-vue-meta="ssr" property="og:site_name"/><meta content="От xWiki к static-HTML. Как мы документацию «переезжали»" data-vmid="og:title" data-vue-meta="ssr" property="og:title"/><meta content="От xWiki к static-HTML. Как мы документацию «переезжали»" data-vmid="twitter:title" data-vue-meta="ssr" name="twitter:title"/><meta content="От xWiki к static-HTML. Как мы документацию «переезжали»" data-vmid="aiturec:title" data-vue-meta="ssr" name="aiturec:title"/><meta content="Документация в компании HOSTKEY состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и..." data-vmid="description" data-vue-meta="ssr" name="description"/><meta content="Документация в компании HOSTKEY состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и..." data-vmid="description:itemprop" data-vue-meta="ssr" itemprop="description"/><meta content="Документация в компании HOSTKEY состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и..." data-vmid="og:description" data-vue-meta="ssr" property="og:description"/><meta content="Документация в компании HOSTKEY состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и..." data-vmid="twitter:description" data-vue-meta="ssr" name="twitter:description"/><meta content="Документация в компании HOSTKEY состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и..." data-vmid="aiturec:description" data-vue-meta="ssr" property="aiturec:description"/><meta content="https://habrastorage.org/getpro/habr/upload_files/f15/098/211/f150982111129a8dcfa8e810bd2e9362.png" data-vmid="image:itemprop" data-vue-meta="ssr" itemprop="image"/><meta content="https://habrastorage.org/getpro/habr/upload_files/f15/098/211/f150982111129a8dcfa8e810bd2e9362.png" data-vmid="og:image" data-vue-meta="ssr" property="og:image"/><meta content="1200" data-vmid="og:image:width" data-vue-meta="ssr" property="og:image:width"/><meta content="630" data-vmid="og:image:height" data-vue-meta="ssr" property="og:image:height"/><meta content="https://habrastorage.org/getpro/habr/upload_files/f15/098/211/f150982111129a8dcfa8e810bd2e9362.png" data-vmid="aiturec:image" data-vue-meta="ssr" property="aiturec:image"/><meta content="https://habrastorage.org/getpro/habr/upload_files/f15/098/211/f150982111129a8dcfa8e810bd2e9362.png" data-vmid="twitter:image" data-vue-meta="ssr" name="twitter:image"/><meta content="https://habrastorage.org/getpro/habr/upload_files/f15/098/211/f150982111129a8dcfa8e810bd2e9362.png?format=vk" data-vmid="vk:image" data-vue-meta="ssr" property="vk:image"/><meta content="794040" data-vmid="aiturec:item_id" data-vue-meta="ssr" property="aiturec:item_id"/><meta content="2024-02-16T08:23:17.000Z" data-vmid="aiturec:datetime" data-vue-meta="ssr" property="aiturec:datetime"/><meta content="https://habr.com/ru/companies/hostkey/articles/794040/" data-vmid="og:url" data-vue-meta="ssr" property="og:url"/><meta content="article" data-vmid="og:type" data-vue-meta="ssr" property="og:type"/><meta content="ru_RU" data-vmid="og:locale" data-vue-meta="ssr" property="og:locale"/><meta content="Static-HTML, Material for MkDocs, wiki, документация, документирование, база знаний" data-vue-meta="ssr" name="keywords"/>

<meta content="#303b44" name="apple-mobile-web-app-status-bar-style"/>
<meta content="#629FBC" name="msapplication-TileColor"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="yes" name="mobile-web-app-capable"/>
































</head>
<body>
<div data-async-called="true" data-server-rendered="true" id="app"><div class="tm-layout__wrapper"><!-- --> <div></div> <div class="tm-feature tm-feature"><!-- --></div> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><div class="tm-header__burger-nav"><button class="tm-header__button tm-header__button_burger" type="button"><svg class="tm-svg-img tm-header__icon tm-header__icon-burger" height="16" width="16"><title>Меню</title> <use xlink:href="/img/megazord-v28.faec9762..svg#header-burger"></use></svg></button></div> <span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo tm-header__logo_hl-ru" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <!-- --> <div class="tm-header-user-menu tm-header_user-menu"><a class="tm-header-user-menu__item tm-header-user-menu__search" href="/ru/search/"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search" height="24" width="24"><title>Поиск</title> <use xlink:href="/img/megazord-v28.faec9762..svg#search"></use></svg></a> <!-- --> <!-- --> <!-- --> <div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle"><svg class="tm-svg-img tm-header-user-menu__icon" height="24" width="24"><title>Настройки</title> <use xlink:href="/img/megazord-v28.faec9762..svg#page-settings"></use></svg></button></div> <a class="tm-header-user-menu__item" href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/companies/hostkey/articles/794040/&amp;hl=ru" rel="nofollow"><button class="tm-header-user-menu__login btn btn_solid btn_small" type="button">
        Войти
      </button></a> <!-- --> <div class="v-portal" style="display:none;"></div></div></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <!-- --> <!-- --> <div class="tm-page-width"></div> <main class="tm-layout__container"><div class="tm-page" companyname="hostkey" data-async-called="true" hl="ru"><div class="tm-page-width"><!-- --> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><!-- --> <div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title> <use xlink:href="/img/megazord-v28.faec9762..svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><!-- --> <!-- --> <!-- --> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet tm-article-snippet"> <div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a class="tm-user-info__userpic" href="/ru/users/dasafyev/" title="dasafyev"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="32" src="https://assets.habr.com/habr-web/img/avatars/052.png" width="32"/></div></a> <span class="tm-user-info__user tm-user-info__user_appearance-default"><a class="tm-user-info__username" href="/ru/users/dasafyev/">
      dasafyev
      <!-- --></a> <span class="tm-article-datetime-published"><time datetime="2024-02-16T08:23:17.000Z" title="2024-02-16, 11:23">вчера в 11:23</time></span></span></span></div> <!-- --></div> <h1 class="tm-title tm-title_h1" lang="ru"><span>От xWiki к static-HTML. Как мы документацию «переезжали»</span></h1> <div class="tm-article-snippet__stats"><!-- --> <div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title> <use xlink:href="/img/megazord-v28.faec9762..svg#clock"></use></svg></span> <span class="tm-article-reading-time__label">
    8 мин
  </span></div> <span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-views"></use></svg> <span class="tm-icon-counter__value">990</span></span></div> <div class="tm-publication-hubs__container"><div class="tm-publication-hubs"><span class="tm-publication-hub__link-container"><a class="router-link-active tm-publication-hub__link" href="/ru/companies/hostkey/articles/"><span>Блог компании HOSTKEY</span> <!-- --></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/it-infrastructure/"><span>IT-инфраструктура</span> <span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span></a></span></div></div> <!-- --> <!-- --> <!-- --></div></div> <!-- --> <div class="tm-article-body" data-gallery-root="" lang="ru"><div></div> <div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/527/807/3ca/5278073caabe1605a9b2d6bf3a542944.png" height="440" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/527/807/3ca/5278073caabe1605a9b2d6bf3a542944.png" width="802"/></figure><p>Документация в компании <a href="https://hostkey.ru"><u>HOSTKEY</u></a> состоит из двух частей: внутренней, которая ведется и дополняется как силами наших технических писателей, так и сотрудниками отделов, для которых она предназначена, и внешней, клиентской.</p><p>До недавнего времени мы и для внутренней, и для внешней документации использовали xWiki. И если для внутренней документации ее применение оправдано, то для внешней xWiki не самое оптимальное решение: внешнюю документацию создают максимум два–три человека, регистрация дополнительных пользователей не нужна, на xWiki постоянно идут атаки спам-ботов, а изменение структуры документации, переименование, масс-правки, изменение оформления и некоторые другие вещи требуют или правок непосредственно в базе данных, или достаточно много телодвижений. Из плюсов — визуальный редактор, возможность импорта/экспорта статей в формате OpenDocument и гибкая настройка прав. Поэтому было решено для внешней клиентской документации переехать на новый движок, и выбор пал на <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a>.</p><p>Весь переезд у нас занял от проработки структуры и рефакторинга до непосредственно переноса и перевода части статей (английская версия отставала от русской) два месяца.</p><h3>Почему Material for MkDocs?</h3><p>Material for MkDocs — это мощный инструмент для создания документации, который предлагает множество технических возможностей. Он основан на Mkdocs, популярном инструменте для создания документации, и Material Design, современном и элегантном стиле дизайна от Google.</p><p>Что нас в нем привлекло?</p><ol><li><p>Вся документация — это текстовые файлы и ее легко хранить в GIT, поэтому есть возможность создавать ветки для новых разделов, над которыми работа еще ведется, иметь возможность быстро откатить документацию на определенный коммит и другие плюсы использования распределенной системы управления версиями. Но можно просто работать с каталогом документации и файлами статей в нем без GIT.</p></li><li><p>Совместная и локальная работа. Работающие над документацией могут использовать одно и то же хранилище и не мешать друг другу. Также можно работать над документацией вообще без подключения к Сети и потом только ее копировать и заливать в репозиторий.</p></li><li><p>Static-HTML на выходе. Документация собирается в статическую структуру html-файлов (с встроенный поиском) и ее достаточно просто «положить» в определенный раздел сайта.</p></li><li><p>Возможность кастомизации. Достаточно большое число настроек отображения, в том числе настройки для отдельных страниц, и возможность несложной кастомизации внешнего вида через css. Если хочется большего, можно полностью пересобрать тему.</p></li><li><p>Разметка на языке Markdown с возможностью включения HTML-кода. При необходимости поправить текст можно в любом текстовом редакторе, а также включить в документацию недостающие элементы, которые невозможно сделать силами плагинов MkDocs. Например, iframe для вставки видео с YouTube или красивое оформление страницы.</p></li><li><p>Адаптивная верстка документации как под мобильные устройства, так и под десктоп.</p></li><li><p>Удобство работы над многоязычной документацией и высокая скорость ее изменений. Так как все статьи — это текстовые файлы, то изменение названия какого-либо параметра в панели управления хостингом в случае xWiki заставило бы или менять его в БД или поиском искать все статьи его вхождения. В случае Material for MkDocs достаточно выполнить поиск и замену в файловой структуре.</p></li><li><p>Постоянная структура. Документация на физическом уровне представляет собой структуру из файлов и каталогов. Поэтому при изменении навигации, названия разделов, смены их порядка или ничего не нужно менять в файловой структуре, или же просто достаточно скопировать файлы в другой каталог и поиском-заменой по файлам заменить пути в ссылках.</p></li><li><p>Удобно вести многоязычную документацию, используя похожую файловую структуру. Добавили статью на одном языке, создали и перевели такой же файл в структуре другого языка.</p></li><li><p>Встроенный полнотекстовый поиск по всем статьям с выдачей совпадений от наиболее релевантных.</p></li></ol><p>Минусы также есть, и мы к ним были готовы (и их надо учитывать, если вы тоже захотите переходить на Material for MkDocs):</p><ol><li><p>Вы работаете с текстовыми файлами. То есть вы пишете текст и размечаете его с помощью специальных наборов символов и не видите итоговый результат сразу же. Да, есть редакторы с рендерингом Markdown «на лету», но поскольку у Material for MkDocs часть разметки отличается, то не вы не видите итоговый результат при вводе. К этому надо привыкнуть и представлять себе, что вы хотите получить.</p></li><li><p>Нужно знать markdown-разметку с наворотами от авторов движка.</p></li><li><p>Изображения нужно копировать в файловую структуру вашей документации и вставлять в текст ссылки на них.</p></li><li><p>При использовании GIT нужно уметь с ним работать.</p></li><li><p>Так как движок написан на Python, то вся верстка завязана на табуляции. Разделы, врезки, нумерация и т. п. требуют от вас умения следить за уровнями табуляции. Навигация в yml-файле — тоже.</p></li><li><p>Руководство пользователя на английском языке. На русском языке информация тоже есть. Например, на «Хабре» уже было много статей по его установке, но некоторые моменты вам придется искать на английском языке (а иногда даже в Issue-секции репозитория проекта).</p></li><li><p>Очень желательно работать над документацией локально. А это потребует от вас установить Python, pip, пакеты mkdocs, GIT и редактор для удобной работы.</p></li><li><p>Движок собирает документацию целиком, даже при пререндере для просмотра. Если у вас большой объем документации, то внося правку из пары запятых, вам нужно будет ждать секунд десять–двадцать для пересборки превью. А окончательный вариант вы увидите только при сборке документации у вас на сервере, так как на внешний вид будет влиять и общий CSS-стиль сайта.</p></li><li><p>Если вам необходимо поменять оформление, нужно пересобирать тему.</p></li><li><p>Часть интересных функций доступна только в платной версии. Хотя их можно воспроизвести с помощью вставки html-кода в файлы статей.</p></li><li><p>При создании ссылок на определенные заголовки (секции) внутри страницы учитывается только английский язык, для русского языка нужно смотреть ссылки в пререндеринге. Например, английская ссылка на заголовок <strong>Instant Servers </strong>статьи в файле <em>index.md</em> будет <em>/apidocs/index.md#instant-servers</em>, а вот российская на заголовок «<strong>Сервера с моментальной сдачей</strong>» будет уже<em> /apidocs/index.md#_4</em>, то есть это четвертая секция по счету.</p></li></ol><h3>Как у нас все устроено?</h3><p>У нас есть русскоязычный и англоязычный сайты и соответствующая документация. Так как сайты существуют параллельно, то и документация должны быть отдельно русская и отдельно английская. Тут можно было бы использовать два разных репозитория, но у нас все хранится в одном общем, но существуют две файловые структуры <em>ru/docs</em> и <em>en/docs</em>. Также есть dev-ветка, где ведется основная работа по написанию и из которой собирается документация на stage-сервера ru и en и master-ветка, куда мерджатся изменения из dev-ветки. Сам репозиторий хранится на своем gitlab. </p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/9ec/c44/e2a/9ecc44e2a5bd21612ab191972113002a.png" height="627" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/9ec/c44/e2a/9ecc44e2a5bd21612ab191972113002a.png" width="1398"/></figure><p>Технические писатели работают с документацией локально (для них написана инструкция по развертыванию Material for MkDocs на локальной машине с Windows и Linux и работе с ним) и используют для этого Visual Studio (или VSCodium), пуша коммиты только после того, как внесут изменения и проверят все на своих машинах. Это позволяет удобно работать с markdown-разметкой и с GIT-репозиторием, не прибегая к помощи терминала.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/558/bc2/66e/558bc266e0e7ebd3ddc2b27a29018329.png" height="857" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/558/bc2/66e/558bc266e0e7ebd3ddc2b27a29018329.png" width="1600"/></figure><p>Для запуска пререндеринга созданы bat/sh-файлы, которые запускают его на localhost для ru- и en-веток на разных портах, что позволяет одновременно открывать и видеть результат для обоих языков. В терминале запуска этих скриптов также можно посмотреть предупреждения и ошибки по проблемам навигации или по отсутствующим ссылкам на файлы и изображения.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/3af/52e/beb/3af52ebebad04c37a8a393dfcd47dc9f.png" height="750" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/3af/52e/beb/3af52ebebad04c37a8a393dfcd47dc9f.png" width="1600"/></figure><p>Основной рендеринг производится задачей Jenkins, где выбирается путь и язык рендеринга (stage или prod) и выкачивается GIT-репозиторий, собирается нужная языковая директория и помещается на сайт. Размещение нашего объема документации на сайте занимает примерно две минуты, непосредственно сборка самим Material for MkDocs — примерно секунд сорок–пятьдесят.</p><h3>Полезные моменты</h3><p>Так как установке Material for MkDocs посвящена куча статей, в том числе и на «Хабре» (есть docker-образ, есть готовые pip-пакеты, что позволяет поставить его под любую ОС и есть хорошая инструкция от разработчиков), то хотелось бы рассказать о мелочах, некоторые из которых явно не описаны:</p><ol><li><p>Полезные плагины для Visual Studio. В принципе, работая над документацией, вы вполне можете обойтись и без них. Так, рекомендованный самими авторами Material for MkDocs плагин с проверкой yml-файла конфигурации и навигации не дает большого выигрыша в скорости и качестве работы, а на деле больше мешает. То же можно сказать о различных плагинах для Markdown-разметки. Но если вы хотите получить грамотную документацию, рекомендуем поставить спеллчекер. Также полезен будет встроенный переводчик, чтобы не переключаться в браузер (у нас Google Translate, но смотрим в сторону оплаты API Deepl и использования его плагина). </p></li></ol><figure class=""><img data-src="https://habrastorage.org/getpro/habr/upload_files/f8f/f33/515/f8ff335158d44efe47ca817975507c4e.png" height="338" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/f8f/f33/515/f8ff335158d44efe47ca817975507c4e.png" width="346"/></figure><ol start="2"><li><p>Заранее выработайте дизайн-код вашей документации. Например, у нас он <a href="https://hostkey.ru/documentation/general/docuse/"><u>такой</u></a>. Всю разметку (особенно название иконок и значков) не упомнить, а такой документ будет полезен для ознакомления новичкам. У нас он продублирован в README git-репозитория, поэтому можно открыть этот файл и скопировать нужный участок разметки.</p></li></ol><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/7e4/b50/281/7e4b50281118e1b4d2bebb1ad7578cb2.png" height="680" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/7e4/b50/281/7e4b50281118e1b4d2bebb1ad7578cb2.png" width="1119"/></figure><ol start="3"><li><p>Вы можете «поднастроить» внешний вид вашей документации через файл /stylesheet/extra.css. Нам это пригодилось, когда у Material for MkDocs не нашлось разметки для кнопок (есть только для клавиш на клавиатуре), поэтому мы добавили туда вот такой код и используем вместо кнопок зачеркивание (~~название_кнопки~~):</p></li></ol><pre><code class="css">/* применяем вместо кнопки элемент del (~~текст~~) */
del {
 text-decoration: none;
 background-color: #FFA500;
 color: #000;
 padding: 2px 4px;
 border: solid #343a40 2px;
}</code></pre><p>Таким же образом без пересборки темы мы подогнали дизайн документации под стиль сайта, расширили ее размер и внесли другие мелкие коррективы.  </p><ol start="4"><li><p>К недокументированным возможностям относится вызов заголовков определенного вида и уровня из nav-секции файла конфигурации <em>mkdocs.yml</em>. Мы это применили в случае, когда нам нужно было сослаться в навигации на секцию Virtual Servers, который находится в файле <em>/apidocs/index.md</em>. Для этого в nav-файле достаточно разместить вот такой текст:</p></li></ol><pre><code> - Virtual servers: apidocs/#virtual-servers</code></pre><p>Да, при сборке система будет ругаться, что не может найти этот путь, но на деле все будет работать, так как <em>index.md</em> будет ассоциирован с разделом apidocs в меню, и в нем уже будет найдена нужная нам секция.  </p><ol start="5"><li><p>Если вам нужно создать ссылку на определенный раздел, то по документации вы должны создать в нем файл <a href="http://index.md">index.md</a>, но тогда при заходе в такой раздел у вас будет картина типа такой:</p></li></ol><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/cf8/799/1d1/cf87991d17871f481ffba5a0e4d9ce7c.png" height="477" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/cf8/799/1d1/cf87991d17871f481ffba5a0e4d9ce7c.png" width="1119"/></figure><p>Тут два варианта: или написать дисклеймер, чтобы читающие вашу документацию не потерялись и обратили внимание на левое меню (или нажали на кнопку, его открывающую, на мобильном устройстве) или сделать редирект на первую статью в разделе.</p><p>Для последнего вам достаточно разместить в <em>index.md</em> файле вот такой код:</p><pre><code class="xml">&lt;head&gt;
&lt;meta http-equiv="refresh" content="0;URL=./text1/" /&gt;
&lt;/head&gt;</code></pre><p>Где <em>./text1/</em> вы заменяете на нужный вам файл раздела (без расширения .md).</p><ol start="6"><li><p>Размещайте изображения всегда в директории image на том же уровне, где находится статья их использующая и называйте их по шаблону &lt;имяфайластатьи_имяизображения.png&gt;. Тогда у вас всегда разметка для вставки изображения будет иметь вид !<span>[](</span>./image/имяфайластатьи_имяизображения.png), и если вам необходимо перенести статью в другой раздел, то достаточно будет скопировать md-файл статьи и переместить изображения из одного image каталога в другой, ничего не меняя в самой разметке.</p></li><li><p>Не бойтесь применять iframe в тексте md-файлов статей. Движок их прекрасно переваривает. Так, на этой <a href="https://hostkey.com/documentation/marketplace/business_apps/kasm_workspaces/">странице</a> видео вставлено с помощью iframe.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/e80/24f/5fe/e8024f5fe81edc2260412f51ae9f8257.png" height="444" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/e80/24f/5fe/e8024f5fe81edc2260412f51ae9f8257.png" width="1326"/></figure></li><li><p>Используйте теги. По каким-то особенностям движка приоритет в поиске отдается страницам с тегами. Теги можно добавить через такую конструкцию в начале файла статьи:</p></li></ol><pre><code>---
tags:
 - Business
 - Software Marketplace
---</code></pre><ol start="9"><li><p>Чтобы контролировать структуру заголовков секции, обращайте внимание в VS на панель Outline, где прекрасно отображается вся структура статьи.</p></li></ol><figure class=""><img data-src="https://habrastorage.org/getpro/habr/upload_files/75e/429/e20/75e429e20621d444c743894f450a146f.png" height="369" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/75e/429/e20/75e429e20621d444c743894f450a146f.png" width="435"/></figure><ol start="10"><li><p>По изменениям можете использовать следующий алгоритм, которого мы придерживаемся: </p><ul><li><p>Изменения и правки вносим в dev-ветку в течение дня, собираем для проверки в stage, согласуем, а в конце дня (вечером) при их наличии сливаем dev- и master-ветки и собираем на сайт. </p></li><li><p>Срочные изменения и правки вносим в master-ветку с обязательным бэкпортом в dev-ветку. Такие изменения применяем, только если без этих изменений документация может привести к серьезным проблемам.</p></li><li><p>Если готовятся новые статьи или разделы, которые пока нельзя выкладывать в документацию, создаем отдельные ветки от dev, работаем в них, потом сливаем назад и удаляем эту ветку. Показ и согласование такой документации ведем или через локальную сборку и расшаривание результата через Google Meet или сборку ветки в stage.</p></li></ul></li></ol><p>Посмотреть, что у нас получилось, можно <a href="https://hostkey.ru/documentation/"><u>по ссылке</u></a>.</p><p>А на чем «собрана» документация у вас?</p><hr/><blockquote><p><strong>Выделенные серверы с процессорами 4 поколения AMD EPYC 9354 / 9124 / 9554 / 9754 и Intel Xeon Silver 4416+</strong></p><p>Арендуйте высокопроизводительный выделенный сервер на базе процессоров AMD EPYC и Intel Xeon последнего поколения, с оперативной памятью DDR5 и хранилищем NVME. Серверы доступны для заказа в ультрасовременном дата-центре в Москве и Амстердаме.</p><p>🔶 Инсталляционный платеж: Бесплатно 🔶 Скидка до 12% в зависимости от срока аренды 🔶 Время сдачи: следующий рабочий день</p><p><a href="https://hostkey.ru/dedicated-servers/amd-epyc/">Заказать</a></p></blockquote><p></p></div></div></div> <!-- --> <!-- --></div> <!-- --> <!-- --></div> <!-- --> <div class="tm-article-presenter__meta"><div class="tm-article-presenter__meta-list tm-separated-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BStatic-HTML%5D">Static-HTML</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BMaterial%20for%20MkDocs%5D">Material for MkDocs</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bwiki%5D">wiki</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F%5D">документация</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%5D">документирование</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B1%D0%B0%D0%B7%D0%B0%20%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B9%5D">база знаний</a></li> <!-- --></ul></div> <div class="tm-article-presenter__meta-list tm-separated-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-hubs-list__link router-link-active" href="/ru/companies/hostkey/articles/">Блог компании HOSTKEY</a></li><li class="tm-separated-list__item"><a class="tm-hubs-list__link" href="/ru/hubs/it-infrastructure/">IT-инфраструктура</a></li> <!-- --></ul></div></div> <!-- --></article></div> <!-- --></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-lever tm-article-rating__votes-switcher tm-votes-lever tm-votes-lever_appearance-article" title="Всего голосов 8: ↑8 и ↓0"><button class="tm-votes-lever__button" title="Нравится" type="button"><svg class="tm-svg-img tm-votes-lever__icon" height="24" width="24"><title>Голосование</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-vote"></use></svg></button> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-article"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_positive">
          +8
        </span></span></div> <button class="tm-votes-lever__button" title="Не нравится" type="button"><svg class="tm-svg-img tm-votes-lever__icon tm-votes-lever__icon_arrow-down" height="24" width="24"><title>Голосование</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-vote"></use></svg></button></div> <div class="v-portal" style="display:none;"></div> <!-- --></div> <!-- --> <!-- --> <button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-favorite"></use></svg></span> <span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">
    20
  </span></button> <div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg class="tm-sharing__icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z" fill="currentColor"></path></svg></button> <div class="v-portal" style="display:none;"></div></div> <div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a class="tm-article-comments-counter-link__link" href="/ru/companies/hostkey/articles/794040/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!-- --></div> <!-- --> <div class="v-portal" style="display:none;"></div></div></div></div> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!-- --> <section class="tm-block tm-block tm-block_spacing-bottom"><!-- --> <div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a class="tm-company-snippet__logo-link" href="/ru/companies/hostkey/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="40" src="//habrastorage.org/getpro/habr/companies/6f2/5a4/ea4/6f25a4ea4233bd6a665018c37d7ffaee.gif" width="40"/></div></a> <div class="tm-company-snippet__info"><a class="tm-company-snippet__title" href="/ru/companies/hostkey/profile/">HOSTKEY</a> <div class="tm-company-snippet__description">IT-инфраструктура: сервера, VPS, GPU, коло</div></div></div> <div class="tm-article-author__buttons"><!-- --> <!-- --></div></div> <!-- --> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a class="tm-user-card__userpic tm-user-card__userpic_size-40" href="/ru/users/dasafyev/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" src="https://assets.habr.com/habr-web/img/avatars/052.png"/></div></a> <div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 37 голосов "><div class="tm-counter-container__header"><div class="tm-karma__votes tm-karma__votes_positive">
      11
    </div></div> <div class="tm-counter-container__footer"><div class="tm-karma__text">
      Карма
    </div> <div class="v-portal" style="display:none;"></div></div></div> <div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"> <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating"><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating">
          8
        </span></span></div> <!-- --></div></div> <div class="tm-counter-container__footer"><span class="tm-rating__text tm-rating__text">
      Рейтинг
    </span></div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name tm-user-card__name_variant-article">Dmitry Asafyev</span> <a class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article" href="/ru/users/dasafyev/">
          @dasafyev
        </a> <!-- --></div> <p class="tm-user-card__short-info tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons tm-user-card__buttons_variant-article"><!-- --> <!-- --> <!-- --> <!-- --></div></div> <!-- --></div></div> <!-- --></section> <!-- --> <!-- --> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments" id="publication-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" href="/ru/companies/hostkey/articles/794040/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.faec9762..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 1 
    </span></a> <!-- --></div></div></div> <section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2> </div> <!-- --></header> <div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><div class="tm-tabs tm-tabs"><div><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim">
        Лучшие за сутки
      </button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_slim">
        Похожие
      </button></span></div> <!-- --></div> <div class="similar-and-daily__tab-view"><div class="placeholder-wrapper"><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-article-cards"><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div> <!-- --></div></div> <!-- --></section> <!-- --> </div></div></div></div></div> <div class="tm-page__sidebar"><!-- --></div></div></div></div></main> <!-- --></div> <!-- --> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><div class="tm-footer__title"><a class="tm-svg-icon__wrapper tm-footer__title-link" href="/ru/"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a></div> <div class="tm-footer__social"><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Facebook</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Twitter</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>VK</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Telegram</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Youtube</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="36" width="36"><title>Яндекс Дзен</title> <use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a></div> <div class="v-portal" style="display:none;"></div> <button class="tm-footer__link"><svg class="tm-svg-img tm-footer__icon" height="16" width="16"><title>Язык</title> <use xlink:href="/img/megazord-v28.faec9762..svg#lang"></use></svg>
        Настройка языка
      </button> <a class="tm-footer__link" href="/ru/feedback/">
        Техническая поддержка
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2024, </span> <span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div></div></div> <!-- --></div> <div class="vue-portal-target"></div></div>





<noscript>
<div>
<img alt="" src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;">
</img></div>
</noscript>


</body>
</html>
